<form #registerForm="ngForm" (ngSubmit)="onSubmit(registerForm)" novalidate>

  <div>
    <label for="name">Name:</label>
    <input type="text" id="name" name="name" [(ngModel)]="user.name" required minlength="5" pattern="[a-zA-Z ]*" #name="ngModel" placeholder="Name"
           [ngClass]="{'is-invalid': name.invalid && name.touched}" />
    <div *ngIf="name.invalid && name.touched" class="error-message">
      <small *ngIf="name.errors?.['required']">Name is required.</small>
      <small *ngIf="name.errors?.['minlength']">Name must be at least 5 characters long.</small>
      <small *ngIf="name.errors?.['pattern']">Name can only contain letters and spaces.</small>
    </div>
  </div>

  <div>
    <label for="email">Email:</label>
    <input type="email" id="email" name="email" [(ngModel)]="user.email" required email #email="ngModel" placeholder="Email"
           [ngClass]="{'is-invalid': email.invalid && email.touched}" />
    <div *ngIf="email.invalid && email.touched" class="error-message">
      <small *ngIf="email.errors?.['required']">Email is required.</small>
      <small *ngIf="email.errors?.['email']">Please enter a valid email address.</small>
    </div>
  </div>

  <div>
    <label for="phone">Phone Number:</label>
    <input type="text" id="phone" name="phone" [(ngModel)]="user.phone" required validatePhone #phone="ngModel" placeholder="Phone Number">
    <div *ngIf="phone.errors?.['invalidPhoneNumber']">
      Invalid phone number. It should be 10 digits long.
    </div>
  </div>

  <div>
    <label for="dob">Date of Birth:</label>
    <input type="date" id="dob" name="dob" [(ngModel)]="user.dob" required #dob="ngModel" placeholder="yyyy-mm-dd"
           [ngClass]="{'is-invalid': dob.invalid && dob.touched}" />
    <div *ngIf="dob.invalid && dob.touched" class="error-message">
      <small *ngIf="dob.errors?.['required']">Date of birth is required.</small>
    </div>
  </div>

  <div>
    <label for="address">Street Address:</label>
    <input type="text" id="address" name="address" [(ngModel)]="user.address" required #address="ngModel" placeholder="Address"
           [ngClass]="{'is-invalid': address.invalid && address.touched}" />
    <div *ngIf="address.invalid && address.touched" class="error-message">
      <small *ngIf="address.errors?.['required']">Address is required.</small>
    </div>
  </div>

  <div>
    <label for="province">Province:</label>
    <select id="province" name="province" [(ngModel)]="user.province" required #province="ngModel" [ngClass]="{'is-invalid': province.invalid && province.touched}">
      <option *ngFor="let province of provinces" [value]="province">{{ province }}</option>
    </select>
    <div *ngIf="province.invalid && province.touched" class="error-message">
      <small *ngIf="province.errors?.['required']">Province is required.</small>
    </div>
  </div>

  <div>
    <label for="country">Country:</label>
    <select id="country" name="country" [(ngModel)]="user.country" required validateCountry #country="ngModel">
      <option *ngFor="let country of countries" [value]="country">{{ country }}</option>
    </select>
    <div *ngIf="country.errors?.['invalidCountry']">
      You must select Canada to proceed.
    </div>
    </div>

  <div>
    <input type="checkbox" id="terms" name="terms" [(ngModel)]="user.terms" required #terms="ngModel" />
    <label for="terms">I accept the Terms & Conditions</label>
    <div *ngIf="terms.invalid && terms.touched" class="error-message">
      <small *ngIf="terms.errors?.['required']">You must accept the Terms & Conditions.</small>
    </div>
  </div>

  <button type="submit" [disabled]="registerForm.invalid">Submit</button>
</form>